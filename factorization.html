<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no">
		<link rel="shortcut icon" href="./public/favicon/favicon.ico">
		<link rel="stylesheet" href="./public/css/gongbumath.css">
		<title>소인수분해</title>
	</head>
	<body>
		<h1 class="math-heading"><a class="math-heading-link" href="./index.html">공부수학</a></h1>
		<h2 class="math-heading">소인수분해</h2>
		<p><a href="https://gongbu.herokuapp.com/study/소인수분해">소인수분해</a>는 어떤 수를 소수의 곱으로 분해하는 것이다.</p>
		<input id="num" type="text">
		<input type="button" onclick="primer();" value="완료">
		<br>
		<br>
		<p id="time"></p>
		<p id="output"></p>
		<script>
            var r;
			var t = document.getElementById('time');
			var num = document.getElementById('num');
			var o = document.getElementById('output');

            function isSquare(l) {
				var sq = Math.sqrt(l);
				return (sq === Math.floor(sq)) // && (l % 10 !== 2 || 3 || 7 || 8);
            }

			function primer() {
				var p = [];

				var n = Number(num.value);
				var sqn = Math.floor(Math.sqrt(n));
				var i;
				var pr = [];
				for (i = 0; i <= Math.ceil(Math.sqrt(n)); i++) {
					pr.push(i);
				}

				var t1 = performance.now();

				for (i = 2; i <= Math.ceil(Math.sqrt(n)); i++) {
					if (pr[i] === 0) continue;
					if (n % i === 0) {
						n /= i;
						p.push(i);
						i = 1;
						pr[i] = 0;
						continue;
					}
					if (i === Math.floor(Math.sqrt(n)) && n !== 1) {
						p.push(n);
					}
				}

				if (p.length === 0) p[0] = n;

				o.innerHTML = p.sort(function(a, b) {return a - b}).join(' * ');

				var t2 = performance.now();

				t.innerHTML = Math.round((t2 - t1) * 100) / 100000 + ' 초';
			}
		</script>
	</body>
</html>
